"""
This type stub file was generated by pyright.
"""

import functools

from matplotlib import _api

r"""
Support for embedded TeX expressions in Matplotlib.

Requirements:

* LaTeX.
* \*Agg backends: dvipng>=1.6.
* PS backend: PSfrag, dvips, and Ghostscript>=9.0.
* PDF and SVG backends: if LuaTeX is present, it will be used to speed up some
  post-processing steps, but note that it is not used to parse the TeX string
  itself (only LaTeX is supported).

To enable TeX rendering of all text in your Matplotlib figure, set
:rc:`text.usetex` to True.

TeX and dvipng/dvips processing results are cached
in ~/.matplotlib/tex.cache for reuse between sessions.

`TexManager.get_rgba` can also be used to directly obtain raster output as RGBA
NumPy arrays.
"""
_log = ...

class TexManager:
    """
    Convert strings to dvi files using TeX, caching the results to a directory.

    Repeated calls to this constructor always return the same instance.
    """

    texcache = ...
    _grey_arrayd = ...
    _font_families = ...
    _font_preambles = ...
    _font_types = ...
    @functools.lru_cache()
    def __new__(cls):  # -> Self@TexManager:
        ...
    @_api.deprecated("3.6")
    def get_font_config(self):  # -> str:
        ...
    @classmethod
    def get_basefile(cls, tex, fontsize, dpi=...):  # -> str:
        """
        Return a filename based on a hash of the string, fontsize, and dpi.
        """
        ...
    @classmethod
    def get_font_preamble(cls):  # -> LiteralString:
        """
        Return a string containing font configuration for the tex preamble.
        """
        ...
    @classmethod
    def get_custom_preamble(cls):  # -> None:
        """Return a string containing user additions to the tex preamble."""
        ...
    @classmethod
    def make_tex(cls, tex, fontsize):  # -> str:
        """
        Generate a tex file to render the tex string at a specific font size.

        Return the file name.
        """
        ...
    @classmethod
    def make_dvi(cls, tex, fontsize):  # -> str:
        """
        Generate a dvi file containing latex's layout of tex string.

        Return the file name.
        """
        ...
    @classmethod
    def make_png(cls, tex, fontsize, dpi):  # -> str:
        """
        Generate a png file containing latex's rendering of tex string.

        Return the file name.
        """
        ...
    @classmethod
    def get_grey(cls, tex, fontsize=..., dpi=...):
        """Return the alpha channel."""
        ...
    @classmethod
    def get_rgba(cls, tex, fontsize=..., dpi=..., rgb=...):  # -> NDArray[float64]:
        r"""
        Return latex's rendering of the tex string as an rgba array.

        Examples
        --------
        >>> texmanager = TexManager()
        >>> s = r"\TeX\ is $\displaystyle\sum_n\frac{-e^{i\pi}}{2^n}$!"
        >>> Z = texmanager.get_rgba(s, fontsize=12, dpi=80, rgb=(1, 0, 0))
        """
        ...
    @classmethod
    def get_text_width_height_descent(
        cls, tex, fontsize, renderer=...
    ):  # -> tuple[Literal[0], Literal[0], Literal[0]] | tuple[Unknown, Unknown, Unknown]:
        """Return width, height and descent of the text."""
        ...
